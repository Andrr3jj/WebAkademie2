"use strict";(self["webpackChunkheligonkova_akademia"]=self["webpackChunkheligonkova_akademia"]||[]).push([[506],{506:function(t,a,e){e.r(a),e.d(a,{default:function(){return c}});var n=e(3396),s=e(7139);const l=["id"],r={class:"scroll"};function i(t,a,e,i,o,u){return(0,n.wg)(),(0,n.iD)("section",{id:t.$route.name},[(0,n._)("div",r,[a[1]||(a[1]=(0,n._)("h1",null,"Administratívny systém",-1)),a[2]||(a[2]=(0,n._)("div",{class:"nadpis"},[(0,n._)("h5",null,"Zoznam predplatitelov")],-1)),a[3]||(a[3]=(0,n._)("div",{class:"line horizontal w-80"},null,-1)),(0,n._)("table",null,[a[0]||(a[0]=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{width:"30%"}},"Účet:"),(0,n._)("th",{style:{width:"40%"}},"Email:"),(0,n._)("th",{style:{width:"30%"}},"Typ pred:")])],-1)),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.sortedData,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{key:a},[(0,n._)("td",null,[(0,n._)("strong",null,(0,s.zw)(a+1)+". ",1),(0,n.Uk)(" "+(0,s.zw)(t.name+" "+t.surname),1)]),(0,n._)("td",null,(0,s.zw)(t.email),1),(0,n._)("td",null,(0,s.zw)(t.subscription_name),1)])))),128))])])])],8,l)}var o={mounted(){window.scrollTo(0,0),this.nacitajUcty()},data(){return{data:[]}},computed:{sortedData(){const t=t=>(t||"").toString().trim().toLowerCase(),a=a=>t(a).replace(/\s+/g,""),e={rok:3,polrok:2,mesiac:1};return[...this.data].sort(((t,n)=>{const s=e[a(t.subscription_name||t.name)]||0,l=e[a(n.subscription_name||n.name)]||0;if(s!==l)return l-s;const r=`${t.surname||""} ${t.name||""}`.trim(),i=`${n.surname||""} ${n.name||""}`.trim();return r.localeCompare(i,"sk")}))}},methods:{nacitajUcty(){const t=e(7218),a=e(6237);let n=new a,s={method:"get",maxBodyLength:1/0,url:this.$store.state.api+"/subscription/getSubscribers.php",data:n};t.request(s).then((t=>{"Request succesfull"==t.data.status&&(this.data=t.data.data||[])})).catch((t=>{}))}}},u=e(89);const d=(0,u.Z)(o,[["render",i],["__scopeId","data-v-591ad176"]]);var c=d}}]);