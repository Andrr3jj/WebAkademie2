"use strict";(self["webpackChunkheligonkova_akademia"]=self["webpackChunkheligonkova_akademia"]||[]).push([[3775],{7157:function(a,e,o){o.d(e,{Z:function(){return r}});var t=o(3396),i=o(9242);const s={class:"voucher-input"},n={class:"row"},l=["placeholder","value"];function d(a,e,o,d,u,p){return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",n,[(0,t._)("input",{type:"text",placeholder:o.placeholder,value:p.formattedKod,onInput:e[0]||(e[0]=(...a)=>p.onInput&&p.onInput(...a)),onKeyup:e[1]||(e[1]=(0,i.D2)((e=>a.$emit("submit",p.formattedKod)),["enter"])),maxlength:"14",autocomplete:"off"},null,40,l),(0,t.WI)(a.$slots,"default")])])}var u={name:"VoucherInput",props:{modelValue:String,placeholder:{type:String,default:"Tvoj unikátny kód"}},computed:{formattedKod(){let a=(this.modelValue||"").replace(/[^A-Za-z0-9]/g,"");return a=a.toUpperCase().slice(0,12),a.match(/.{1,4}/g)?.join("-")||""}},methods:{onInput(a){let e=a.target.value.replace(/[^A-Za-z0-9]/g,"");e=e.toUpperCase().slice(0,12);const o=e.match(/.{1,4}/g)?.join("-")||"";this.$emit("update:modelValue",o)}}},p=o(89);const k=(0,p.Z)(u,[["render",d]]);var r=k},3425:function(a,e,o){o.d(e,{Z:function(){return b}});var t=o(3396),i=o(7139);const s={key:0},n={key:1,class:"no-default"},l={key:2,class:"no-default"},d={key:3},u={key:4,class:"no-default"},p={key:5,class:"no-default"},k={key:6,class:"podnadpis no-default"},r={key:7,class:"podnadpis"},h={key:8,class:"popis"};function c(a,e,o,c,m,v){return(0,t.wg)(),(0,t.iD)(t.HY,null,["Moje piesne"!=a.$route.name&&"Heligonková Akadémia"!=a.$route.name&&"Heličas úlohy"!=a.$route.name&&"Heličas fungovanie"!=a.$route.name&&"Zisti hodnotu poukážky"!=a.$route.name?((0,t.wg)(),(0,t.iD)("h1",s," Heligónková Akadémia ")):(0,t.kq)("",!0),"Heligonková Akadémia"==a.$route.name?((0,t.wg)(),(0,t.iD)("h1",n," Heligónková Akadémia ")):(0,t.kq)("",!0),"Heličas úlohy"==a.$route.name?((0,t.wg)(),(0,t.iD)("h1",l," HeliČas úlohy ")):(0,t.kq)("",!0),"Moje piesne"==a.$route.name?((0,t.wg)(),(0,t.iD)("h1",d,"Zoznam piesní")):(0,t.kq)("",!0),"Heličas fungovanie"==a.$route.name?((0,t.wg)(),(0,t.iD)("h1",u," Systém Heli Čas ")):(0,t.kq)("",!0),"Zisti hodnotu poukážky"==a.$route.name?((0,t.wg)(),(0,t.iD)("h1",p," Darčekové poukážky ")):(0,t.kq)("",!0),"Heligonková Akadémia"==a.$route.name?((0,t.wg)(),(0,t.iD)("h5",k,(0,i.zw)(m.podnadpis),1)):((0,t.wg)(),(0,t.iD)("h5",r,(0,i.zw)(m.podnadpis),1)),o.showBody&&m.popis?((0,t.wg)(),(0,t.iD)("p",h,(0,i.zw)(m.popis),1)):(0,t.kq)("",!0)],64)}var m={props:{showBody:{type:Boolean,default:!0}},data(){return{podnadpis:"Nauč sa hrať na heligónke s online kurzami od základov po obľúbené piesne, vlastným tempom z pohodlia domova.",popis:"Objav čaro heligónky s našimi kurzami heligónky online, náučnými videami a číselnými zápismi. Pre začiatočníkov aj pokročilých pesničky krok za krokom, od melódie cez mech až po basy. Jednoducho, zábavne a kedykoľvek, keď máš čas."}},mounted(){switch(this.$route.name){case"Heligonková Akadémia":this.podnadpis="Nauč sa hrať na heligónke s online kurzami od základov po obľúbené piesne, vlastným tempom z pohodlia domova.",this.popis="Objav čaro heligónky s našimi kurzami heligónky online, náučnými videami a číselnými zápismi. Pre začiatočníkov aj pokročilých pesničky krok za krokom, od melódie cez mech až po basy. Jednoducho, zábavne a kedykoľvek, keď máš čas.",this.showBody||(this.popis=null);break;case"O nás":this.podnadpis="Vaše vzdelávacie úspechy sú našim cieľom!",this.popis=null;break;case"Zabudnuté heslo":this.podnadpis="Zabudnuté prihlasovacie údaje",this.popis=null;break;case"Prihlásenie":case"Registrácia":this.podnadpis="Otvor si dvere k hudobnému svetu s heligónkou!",this.popis=null;break;case"Pomoc":this.podnadpis="Potrebujete pomoc alebo máte otázky?",this.popis=null;break;case"Košík":this.podnadpis="Váš nákupný košík je krokom bližšie k odhaleniu vzdelávacieho a hudobného pokladu",this.popis=null;break;case"Pokladňa":this.podnadpis="Platby a záverečné kroky vašej objednávky",this.popis=null;break;case"Časté otázky":this.podnadpis="Objavte odpovede na časté otázky",this.popis=null;break;case"Miesta výučby":this.podnadpis="Prezenčné lekcie s našimi učiteľmi vo Vašej blízkosti",this.popis=null;break;case"Moje piesne":this.podnadpis="Piesne na učenie dostupné po zakúpení!",this.popis=null;break;case"Vytvorenie hesla":this.podnadpis="Vytvorte si svoje nové heslo",this.popis=null;break;case"Pripravujeme":this.podnadpis="Práve sa pripravuje",this.popis=null;break;case"NotFound":this.podnadpis="Oops! Niečo sa pokazilo.",this.popis=null;break;case"Zabudnuté heslo úspešné":this.podnadpis="Obnoviť heslo úspešné",this.popis=null;break;case"Potrebné prihlásenie":this.podnadpis="Obsah tejto stránky je prístupný len prihláseným užívateľom",this.popis=null;break;case"Úspešný nákup":this.podnadpis="Ďakujeme za váš nákup!",this.popis=null;break;case"Neúspešný nákup":this.podnadpis="Platba bola zamietnutá",this.popis=null;break;case"Úspešné odoslanie formuláru":this.podnadpis="Správa bolo odoslaná",this.popis=null;break;case"Náučné videá":this.podnadpis="Začnite hrať na heligónke pomocou náučných videí",this.popis=null;break;case"Heličas úlohy":this.podnadpis="Splňte si ich a získajte bonusové body!",this.popis=null;break;case"Heličas fungovanie":this.podnadpis="Všetko, čo potrebuješ vedieť!",this.popis=null;break;case"Zisti hodnotu poukážky":this.podnadpis="Zadajte svoj kód a využite svoju príležitosť naplno!",this.popis=null;break;default:break}}},v=o(89);const y=(0,v.Z)(m,[["render",c],["__scopeId","data-v-44afdfc8"]]);var b=y},3775:function(a,e,o){o.r(e),o.d(e,{default:function(){return P}});var t=o(3396);const i=["id"],s={class:"scroll"},n=["id"],l={class:"scroll"};function d(a,e,o,d,u,p){const k=(0,t.up)("TheHeadline"),r=(0,t.up)("ZisteniePoukazky");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("section",{class:"computer",id:a.$route.name},[(0,t._)("div",s,[(0,t.Wm)(k),e[0]||(e[0]=(0,t._)("div",{class:"line horizontal w-90"},null,-1)),e[1]||(e[1]=(0,t._)("div",{class:"under-headline"}," Tu môžete zadať kód z vašej darčekovej poukážky a automaticky sa vám jej hodnota pridá do vášho košíka. Pri nákupe si môžete zvoliť, či chcete použiť darčekovú poukážku alebo zaplatiť kartou. ",-1)),(0,t.Wm)(r)])],8,i),(0,t._)("div",{class:"mobile",id:a.$route.name},[(0,t._)("section",null,[(0,t._)("div",l,[(0,t.Wm)(k),e[2]||(e[2]=(0,t._)("div",{class:"line horizontal w-90"},null,-1)),e[3]||(e[3]=(0,t._)("div",{class:"under-headline"}," Tu môžete zadať kód z vašej darčekovej poukážky a automaticky sa vám jej hodnota pridá do vášho košíka. Pri nákupe si môžete zvoliť, či chcete použiť darčekovú poukážku alebo zaplatiť kartou. ",-1)),(0,t.Wm)(r)])])],8,n)],64)}var u=o(3425),p=o(7139);const k={class:"gift-balance"},r={class:"info-block"},h={class:"form-group"},c={class:"balance-block"};function m(a,e,o,i,s,n){const l=(0,t.up)("VoucherInput"),d=(0,t.up)("GratulaciaOznamenie");return(0,t.wg)(),(0,t.iD)("div",k,[(0,t._)("div",r,[e[3]||(e[3]=(0,t._)("h2",null,"Ako na to?",-1)),e[4]||(e[4]=(0,t._)("ol",null,[(0,t._)("li",null,"Zadajte kód z darčekovej poukážky"),(0,t._)("li",null,"Poukážka sa automaticky aktivuje v košíku"),(0,t._)("li",null,"Ak je hodnota nákupu vyššia, zvyšok môžete doplatiť kartou"),(0,t._)("li",null," Ak nevyužijete celú sumu, zostávajúci kredit zostane na vašej poukážke a môžete ho použiť neskôr ")],-1)),(0,t._)("div",h,[(0,t.Wm)(l,{modelValue:s.kod,"onUpdate:modelValue":e[0]||(e[0]=a=>s.kod=a),placeholder:"Zadajte kód poukážky",onSubmit:n.potvrdiKod},null,8,["modelValue","onSubmit"]),(0,t._)("button",{class:"button",onClick:e[1]||(e[1]=(...a)=>n.potvrdiKod&&n.potvrdiKod(...a))},"Potvrdiť")])]),(0,t._)("div",c,[e[5]||(e[5]=(0,t._)("p",null,"Aktuálny zostatok na vašej darčekovej poukážke:",-1)),(0,t._)("h3",null,(0,p.zw)(n.formatMena(s.zostatok)),1)]),e[6]||(e[6]=(0,t._)("p",{class:"note"}," Ak máte viac darčekových poukážok, môžete zadať viacero kódov – ich hodnota sa automaticky spočíta! ",-1)),s.gratulaciaModal?((0,t.wg)(),(0,t.j4)(d,{key:0,text:s.gratulaciaText,onClose:e[2]||(e[2]=a=>s.gratulaciaModal=!1)},null,8,["text"])):(0,t.kq)("",!0)])}var v=o(7157),y=o(9457),b=o(1076),z={name:"ZistenieHodnoty",components:{VoucherInput:v.Z,GratulaciaOznamenie:y.Z},data(){return{kod:"",zostatok:0,gratulaciaModal:!1,gratulaciaText:""}},methods:{async potvrdiKod(){if(!this.kod||this.kod.replace(/[^A-Za-z0-9]/g,"").length<8)return void this.showSnackbar("Zadajte platný kód poukážky.");const a="https://heligonkovaakademia.sk/api/cart/",e="https://heligonkovaakademia.sk/api/product/gift_card/";try{let o=await b["default"].get(e+"apply.php",{params:{code:this.kod}});if(("Request succesfull"===o?.data?.status||"Request fullfiled"===o?.data?.status)&&o.data.data&&o.data.data.length>0){const a=o.data.data.map((a=>a.name||a.title||a)).join(", ");return this.gratulaciaText="Gratulujeme! Práve ste získali prístup k: "+a+". Ďakujeme za využitie darčekovej poukážky.",this.gratulaciaModal=!0,this.zostatok=0,void await this.nacitajPoukazky()}if(o=await b["default"].get(a+"addGiftCard.php",{params:{code:this.kod}}),"Request fullfiled"===o?.data?.status)return this.showSnackbar("Poukážka bola pridaná do košíka."),void await this.nacitajPoukazky();if("Request failed"===o?.data?.status){if("Already used"===o.data.data)return void this.showSnackbar("Tento kód poukážky už bol použitý.");if("Already in cart"===o.data.data)return this.showSnackbar("Tento kód už je pridaný vo vašom košíku."),void await this.nacitajPoukazky()}this.showSnackbar("Poukážka je neplatná alebo už bola použitá."),await this.nacitajPoukazky()}catch(o){this.showSnackbar("Chyba komunikácie so serverom."),await this.nacitajPoukazky()}},formatMena(a){return a?a.toFixed(2).replace(".",",")+" €":"0,00 €"},showSnackbar(a){this.$store?this.$store.state.SnackBarText=a:alert(a)},async nacitajPoukazky(){try{const a="https://heligonkovaakademia.sk/api/cart/",e=await b["default"].get(a+"loadGiftCard.php");if(Array.isArray(e.data.data)){const a=e.data.data.map((a=>"string"===typeof a?JSON.parse(a):a)),o=a.filter((a=>!a.used_timestamp)).reduce(((a,e)=>a+(Number(e.value)||0)),0);this.zostatok=o}else this.zostatok=0}catch(a){this.showSnackbar("Chyba pri načítaní zostatku."),this.zostatok=0}}},async mounted(){await this.nacitajPoukazky()}},g=o(89);const j=(0,g.Z)(z,[["render",m],["__scopeId","data-v-29f9019b"]]);var f=j,w={components:{TheHeadline:u.Z,ZisteniePoukazky:f}};const _=(0,g.Z)(w,[["render",d]]);var P=_}}]);