"use strict";(self["webpackChunkheligonkova_akademia"]=self["webpackChunkheligonkova_akademia"]||[]).push([[7543],{7543:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});var n=t(3396),l=t(9242),p=t(7139),r=t(4970);const d=["id"],o={class:"obsah"},i={class:"column"},c={class:"row-form"},s={class:"row-form"},u={class:"row-form checkbox"},v={class:"column"},m={class:"row-form"},h={class:"row-form"},y={class:"row-form checkbox"},_={class:"column"},f={class:"row-form"},k={class:"row-form"},x={class:"row-form checkbox"},w={class:"column"};function b(e,a,t,b,z,Z){return(0,n.wg)(),(0,n.iD)("section",{id:e.$route.name},[(0,n._)("form",{form:"",onSubmit:a[10]||(a[10]=(0,l.iM)(((...e)=>Z.upraveniePredplatneho&&Z.upraveniePredplatneho(...e)),["prevent"])),class:"scroll"},[a[25]||(a[25]=(0,n._)("h1",null,"Administratívny systém",-1)),a[26]||(a[26]=(0,n._)("h5",null,"Predplatné",-1)),a[27]||(a[27]=(0,n._)("div",{class:"line horizontal w-80"},null,-1)),(0,n._)("div",o,[(0,n._)("div",i,[a[14]||(a[14]=(0,n._)("div",{class:"nadpis"},[(0,n._)("p",{class:"Adumu"},"Mesačné")],-1)),(0,n._)("div",c,[a[11]||(a[11]=(0,n._)("label",{for:"cena-mesacne"},"Cena predplatného:",-1)),(0,n.wy)((0,n._)("input",{ref:"predplatne.mesacne.cena",type:"text",name:"cena-mesacne",placeholder:"2,25 EUR","onUpdate:modelValue":a[0]||(a[0]=e=>z.predplatne.mesacne.cena=e)},null,512),[[l.nr,z.predplatne.mesacne.cena]])]),(0,n._)("div",s,[a[12]||(a[12]=(0,n._)("label",{for:"zlava-mesacne"},"Zľava predplatného:",-1)),(0,n.wy)((0,n._)("input",{ref:"predplatne.mesacne.detaily.zlava",type:"text",name:"zlava-mesacne",placeholder:"10 %","onUpdate:modelValue":a[1]||(a[1]=e=>z.predplatne.mesacne.detaily.zlava=e)},null,512),[[l.nr,z.predplatne.mesacne.detaily.zlava]])]),(0,n._)("div",u,[(0,n.wy)((0,n._)("input",{ref:"predplatne.mesacne.detaily.aktivnaZlava","onUpdate:modelValue":a[2]||(a[2]=e=>z.predplatne.mesacne.detaily.aktivnaZlava=e),type:"checkbox",name:"aktivovat-mesacne"},null,512),[[l.e8,z.predplatne.mesacne.detaily.aktivnaZlava]]),a[13]||(a[13]=(0,n._)("label",{for:"aktivovat-mesacne"},"Aktivovať zľavu:",-1))])]),(0,n._)("div",v,[a[18]||(a[18]=(0,n._)("div",{class:"nadpis"},[(0,n._)("p",{class:"Adumu"},"Polročné")],-1)),(0,n._)("div",m,[a[15]||(a[15]=(0,n._)("label",{for:"cena-polrocne"},"Cena predplatného:",-1)),(0,n.wy)((0,n._)("input",{ref:"predplatne.polrocne.cena",type:"text",name:"cena-polrocne",placeholder:"2,25 EUR","onUpdate:modelValue":a[3]||(a[3]=e=>z.predplatne.polrocne.cena=e)},null,512),[[l.nr,z.predplatne.polrocne.cena]])]),(0,n._)("div",h,[a[16]||(a[16]=(0,n._)("label",{for:"zlava-polrocne"},"Zľava predplatného:",-1)),(0,n.wy)((0,n._)("input",{ref:"predplatne.polrocne.detaily.zlava",type:"text",name:"zlava-polrocne",placeholder:"10 %","onUpdate:modelValue":a[4]||(a[4]=e=>z.predplatne.polrocne.detaily.zlava=e)},null,512),[[l.nr,z.predplatne.polrocne.detaily.zlava]])]),(0,n._)("div",y,[(0,n.wy)((0,n._)("input",{ref:"predplatne.polrocne.detaily.aktivnaZlava","onUpdate:modelValue":a[5]||(a[5]=e=>z.predplatne.polrocne.detaily.aktivnaZlava=e),type:"checkbox",name:"aktivovat-polrocne"},null,512),[[l.e8,z.predplatne.polrocne.detaily.aktivnaZlava]]),a[17]||(a[17]=(0,n._)("label",{for:"aktivovat-polrocne"},"Aktivovať zľavu:",-1))])]),(0,n._)("div",_,[a[22]||(a[22]=(0,n._)("div",{class:"nadpis"},[(0,n._)("p",{class:"Adumu"},"Ročné")],-1)),(0,n._)("div",f,[a[19]||(a[19]=(0,n._)("label",{for:"cena-rocne"},"Cena predplatného:",-1)),(0,n.wy)((0,n._)("input",{ref:"predplatne.rocne.cena",type:"text",name:"cena-rocne",placeholder:"2,25 EUR","onUpdate:modelValue":a[6]||(a[6]=e=>z.predplatne.rocne.cena=e)},null,512),[[l.nr,z.predplatne.rocne.cena]])]),(0,n._)("div",k,[a[20]||(a[20]=(0,n._)("label",{for:"zlava-rocne"},"Zľava predplatného:",-1)),(0,n.wy)((0,n._)("input",{ref:"predplatne.rocne.detaily.zlava",type:"text",name:"zlava-rocne",placeholder:"10 %","onUpdate:modelValue":a[7]||(a[7]=e=>z.predplatne.rocne.detaily.zlava=e)},null,512),[[l.nr,z.predplatne.rocne.detaily.zlava]])]),(0,n._)("div",x,[(0,n.wy)((0,n._)("input",{ref:"predplatne.rocne.detaily.aktivnaZlava","onUpdate:modelValue":a[8]||(a[8]=e=>z.predplatne.rocne.detaily.aktivnaZlava=e),type:"checkbox",name:"aktivovat-rocne"},null,512),[[l.e8,z.predplatne.rocne.detaily.aktivnaZlava]]),a[21]||(a[21]=(0,n._)("label",{for:"aktivovat-rocne"},"Aktivovať zľavu:",-1))])])]),(0,n._)("div",w,[(0,n._)("button",{class:(0,p.C_)([{"not-have-permission":!this.$store.state.userRoles?.roles?.includes("subscription_edit")},"button"]),type:"submit"},a[23]||(a[23]=[(0,n._)("p",null,"Uložiť",-1)]),2),(0,n._)("div",{onClick:a[9]||(a[9]=a=>e.$router.go(-1)),class:"zrusit click"},a[24]||(a[24]=[(0,n._)("img",{src:r,alt:"Zrušiť"},null,-1),(0,n._)("p",null,"Zrušiť",-1)]))])],32)],8,d)}t(560);var z={mounted(){window.scrollTo(0,0);for(let e=1;e<4;e++)this.nacitajPredplatne(e)},data(){return{predplatne:{mesacne:{id:1,cena:"",name:"",expiration:"",detaily:{}},polrocne:{id:2,cena:"",name:"",expiration:"",detaily:{}},rocne:{id:3,cena:"",name:"",expiration:"",detaily:{}}},predplatneData:{}}},methods:{nacitajPredplatne(e){const a=t(7218);let n={method:"get",maxBodyLength:1/0,url:this.$store.state.api+"/product/load.php/?id="+e};a.request(n).then((a=>{1==e?(this.predplatne.mesacne.cena=a.data.data.price,this.predplatne.mesacne.name=a.data.data.name,this.predplatne.mesacne.expiration=a.data.data.expiration,this.predplatne.mesacne.detaily=JSON.parse(a.data.data.details)):2==e?(this.predplatne.polrocne.cena=a.data.data.price,this.predplatne.polrocne.name=a.data.data.name,this.predplatne.polrocne.expiration=a.data.data.expiration,this.predplatne.polrocne.detaily=JSON.parse(a.data.data.details)):3==e&&(this.predplatne.rocne.cena=a.data.data.price,this.predplatne.rocne.name=a.data.data.name,this.predplatne.rocne.expiration=a.data.data.expiration,this.predplatne.rocne.detaily=JSON.parse(a.data.data.details))})).catch((e=>{}))},upraveniePredplatneho(){this.aktualizujPredplane(1),this.aktualizujPredplane(2),this.aktualizujPredplane(3)},aktualizujPredplane(e){var a="";1==e?a="mesacne":2==e?a="polrocne":3==e&&(a="rocne"),void 0!=this.predplatne[a].cena&&this.predplatne[a].cena.includes(",")&&(this.predplatne[a].cena=this.predplatne[a].cena.replace(",","."));const n=t(7218),l=t(6237);let p=new l;p.append("id",this.predplatne[a].id),p.append("free","false"),p.append("deleted","false"),p.append("new",""),p.append("virtuality","true"),p.append("category","predplatne"),p.append("name",this.predplatne[a].name),p.append("difficulty","1"),p.append("expiration",this.predplatne[a].expiration),p.append("price",this.predplatne[a].cena),p.append("details",JSON.stringify(this.predplatne[a].detaily));let r={method:"post",maxBodyLength:1/0,url:this.$store.state.api+"/product/update.php/",data:p};n.request(r).then((e=>{"Request fullfiled"==e.data.status?(this.$store.state.SnackBarText="Upravenie cien predplatného bolo úspešné",this.$router.push("/admin")):this.$store.state.SnackBarText="Nepodarilo sa upraviť ceny predplatného"})).catch((e=>{this.$store.state.SnackBarText="Nepodarilo sa upraviť ceny predplatného"}))}}},Z=t(89);const U=(0,Z.Z)(z,[["render",b],["__scopeId","data-v-49bc0f94"]]);var g=U},4970:function(e,a,t){e.exports=t.p+"img/zrusit.31ce29f1.svg"}}]);